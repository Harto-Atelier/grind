<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HARTO // COMMAND CENTER</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0a0a0a;
            --card: #111111;
            --cyan: #4d57a0;
            --cyan-dim: rgba(77, 87, 160, 0.15);
            --cyan-border: rgba(77, 87, 160, 0.4);
            --orange: #FF6B00;
            --green: #00FF88;
            --red: #FF4444;
            --yellow: #FFD700;
            --purple: #A855F7;
            --text: #ffffff;
            --muted: #666666;
            --border: #222222;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
        }
        
        .mono { font-family: 'JetBrains Mono', monospace; }
        
        /* Navigation */
        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 40px;
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            background: var(--bg);
            z-index: 100;
        }
        .nav-brand {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            color: var(--cyan);
            letter-spacing: 2px;
        }
        .nav-links { display: flex; gap: 30px; }
        .nav-links a {
            color: var(--muted);
            text-decoration: none;
            font-size: 0.85rem;
            transition: color 0.2s;
        }
        .nav-links a:hover, .nav-links a.active { color: var(--cyan); }
        .nav-time {
            display: flex;
            align-items: center;
            gap: 15px;
            font-family: 'JetBrains Mono', monospace;
        }
        .nav-day {
            color: var(--muted);
            font-size: 0.85rem;
        }
        .nav-date {
            color: var(--text);
            font-size: 0.9rem;
            font-weight: 600;
        }
        .nav-clock {
            color: var(--cyan);
            font-size: 0.9rem;
        }
        
        /* Hero */
        .hero {
            padding: 50px 40px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .hero .nuria-widget {
            margin-left: auto;
        }
        .hero-content { }
        .hero-title {
            font-family: 'JetBrains Mono', monospace;
            font-size: 3rem;
            font-weight: 700;
            letter-spacing: 8px;
            margin-bottom: 10px;
        }
        .hero-sub {
            font-family: 'JetBrains Mono', monospace;
            color: var(--cyan);
            font-size: 0.85rem;
            letter-spacing: 3px;
            margin-bottom: 15px;
        }
        .hero-quote {
            color: var(--muted);
            font-style: italic;
            font-size: 0.9rem;
            max-width: 400px;
        }
        .hero-time {
            text-align: right;
        }
        .hero-date {
            font-family: 'JetBrains Mono', monospace;
            font-size: 2rem;
            font-weight: 700;
            color: var(--text);
        }
        .hero-day {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1rem;
            color: var(--muted);
            margin-bottom: 10px;
        }
        .hero-clock {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.5rem;
            color: var(--cyan);
        }
        
        /* NURIA Widget */
        .nuria-widget {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .nuria-name {
            font-family: 'JetBrains Mono', monospace;
            font-size: 11px;
            color: var(--cyan);
            letter-spacing: 3px;
            margin-bottom: 12px;
        }
        .nuria-face {
            position: relative;
            animation: nuriaBounce 3s ease-in-out infinite;
        }
        @keyframes nuriaBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-4px); }
        }
        .nuria-eyes {
            display: flex;
            gap: 25px;
        }
        .nuria-eye {
            width: 50px;
            height: 50px;
            background: var(--orange);
            border-radius: 8px;
            position: relative;
            box-shadow: 0 0 25px rgba(255,107,0,0.4);
            animation: nuriaGlow 2s ease-in-out infinite;
            transition: height 0.1s, transform 0.1s, border-radius 0.1s;
        }
        @keyframes nuriaGlow {
            0%, 100% { box-shadow: 0 0 25px rgba(255,107,0,0.4); }
            50% { box-shadow: 0 0 40px rgba(255,107,0,0.6); }
        }
        .nuria-eye::before {
            content: '';
            position: absolute;
            top: 7px;
            left: 7px;
            width: 15px;
            height: 15px;
            background: rgba(255,255,255,0.9);
            border-radius: 5px;
        }
        .nuria-eye::after {
            content: '';
            position: absolute;
            top: 24px;
            left: 28px;
            width: 6px;
            height: 6px;
            background: rgba(255,255,255,0.5);
            border-radius: 2px;
        }
        .nuria-eye.blink {
            height: 8px;
            border-radius: 8px;
            transform: translateY(21px);
        }
        .nuria-eye.blink::before, .nuria-eye.blink::after { display: none; }
        
        /* Nuria sleeping/idle state */
        .nuria-eye.sleeping {
            height: 6px;
            border-radius: 6px;
            transform: translateY(22px);
            animation: none;
            box-shadow: 0 0 15px rgba(255,107,0,0.2);
        }
        .nuria-eye.sleeping::before, .nuria-eye.sleeping::after { display: none; }
        .nuria-widget.idle .nuria-face { animation: none; }
        .nuria-widget.idle .nuria-mouth {
            width: 8px;
            height: 2px;
            border: none;
            background: var(--orange);
            border-radius: 2px;
        }
        
        /* Nuria working state - eyes move */
        .nuria-widget.working .nuria-eye {
            animation: nuriaGlow 1.5s ease-in-out infinite, nuriaLook 4s ease-in-out infinite;
        }
        @keyframes nuriaLook {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-3px); }
            75% { transform: translateX(3px); }
        }
        .nuria-blush {
            position: absolute;
            width: 18px;
            height: 8px;
            background: rgba(255,150,150,0.3);
            border-radius: 50%;
            top: 55px;
        }
        .nuria-blush-l { left: -8px; }
        .nuria-blush-r { right: -8px; }
        .nuria-mouth {
            position: absolute;
            bottom: -18px;
            left: 50%;
            transform: translateX(-50%);
            width: 12px;
            height: 6px;
            border: 2px solid var(--orange);
            border-top: none;
            border-radius: 0 0 12px 12px;
        }
        
        /* Stats Row */
        .stats-row {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            border-bottom: 1px solid var(--border);
        }
        .stat-box {
            padding: 25px;
            text-align: center;
            border-right: 1px solid var(--border);
            transition: background 0.2s;
        }
        .stat-box:last-child { border-right: none; }
        .stat-box:hover { background: var(--cyan-dim); }
        .stat-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--cyan);
            margin-bottom: 5px;
        }
        .stat-label {
            font-size: 0.7rem;
            color: var(--muted);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .stat-box.highlight .stat-value { color: var(--orange); }
        .stat-box.success .stat-value { color: var(--green); }
        
        /* Main Grid */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            border-bottom: 1px solid var(--border);
        }
        .main-section {
            padding: 30px;
            border-right: 1px solid var(--border);
        }
        .main-section:last-child { border-right: none; }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }
        .section-title {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            color: var(--cyan);
            letter-spacing: 2px;
        }
        .section-link {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            color: var(--muted);
            text-decoration: none;
            transition: color 0.2s;
        }
        .section-link:hover { color: var(--cyan); }
        
        /* Tasks List */
        .task-list { display: flex; flex-direction: column; gap: 12px; }
        .task-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            border: 1px solid var(--border);
            transition: all 0.2s;
            cursor: pointer;
        }
        .task-item:hover {
            border-color: var(--cyan-border);
            background: var(--cyan-dim);
        }
        .task-item.urgent-deadline {
            border-color: var(--red);
            background: rgba(255, 68, 68, 0.1);
            animation: urgentPulse 2s ease-in-out infinite;
        }
        @keyframes urgentPulse {
            0%, 100% { border-color: var(--red); }
            50% { border-color: rgba(255, 68, 68, 0.5); }
        }
        /* URGENT TASK HIGHLIGHTING - deadline < 3 days */
        .task-item.urgent {
            border-color: var(--red);
            background: rgba(255, 68, 68, 0.08);
        }
        .task-item.urgent:hover {
            border-color: var(--red);
            background: rgba(255, 68, 68, 0.15);
        }
        .task-item.warning {
            border-color: var(--orange);
            background: rgba(255, 107, 0, 0.08);
        }
        .task-item.warning:hover {
            border-color: var(--orange);
            background: rgba(255, 107, 0, 0.15);
        }
        .task-priority {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            flex-shrink: 0;
        }
        .task-priority.high { background: var(--red); }
        .task-priority.medium { background: var(--yellow); }
        .task-priority.low { background: var(--green); }
        .task-content { flex: 1; min-width: 0; }
        .task-title {
            font-weight: 500;
            font-size: 0.9rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .task-meta {
            font-size: 0.75rem;
            color: var(--muted);
            margin-top: 3px;
        }
        .task-owner {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            color: var(--cyan);
            padding: 4px 8px;
            border: 1px solid var(--cyan-border);
        }
        
        /* Team Grid */
        .team-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        .team-card {
            border: 1px solid var(--border);
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: all 0.2s;
        }
        .team-card:hover {
            border-color: var(--cyan-border);
        }
        .team-avatar {
            width: 45px;
            height: 45px;
            border: 1px solid var(--cyan-border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            color: var(--cyan);
        }
        .team-info { flex: 1; }
        .team-name { font-weight: 500; }
        .team-role { font-size: 0.8rem; color: var(--muted); }
        .team-tasks {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--orange);
        }
        
        /* CRM Summary */
        .crm-summary {
            border: 1px solid var(--cyan-border);
            background: var(--cyan-dim);
            padding: 25px;
        }
        .crm-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .crm-title {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            color: var(--cyan);
        }
        .crm-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        .crm-stat {
            text-align: center;
            padding: 15px 10px;
            background: rgba(0,0,0,0.3);
        }
        .crm-stat-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.3rem;
            font-weight: 700;
        }
        .crm-stat-label {
            font-size: 0.65rem;
            color: var(--muted);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 3px;
        }
        .crm-bar {
            height: 6px;
            background: var(--border);
            margin-bottom: 15px;
            display: flex;
            overflow: hidden;
        }
        .crm-bar-segment {
            height: 100%;
            transition: width 0.5s ease;
        }
        .crm-btn {
            display: block;
            width: 100%;
            background: var(--cyan);
            border: none;
            color: #000;
            padding: 12px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            letter-spacing: 2px;
            cursor: pointer;
            text-align: center;
            text-decoration: none;
            transition: background 0.2s;
        }
        .crm-btn:hover { background: #5d67b0; }
        
        /* Agenda Section */
        .agenda-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            border-bottom: 1px solid var(--border);
        }
        .agenda-col {
            padding: 25px 30px;
            border-right: 1px solid var(--border);
        }
        .agenda-col:last-child { border-right: none; }
        .section-date {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            color: var(--cyan);
        }
        .email-count {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            color: var(--orange);
        }
        .agenda-list {
            margin-top: 15px;
        }
        .agenda-item {
            display: flex;
            gap: 15px;
            padding: 12px 0;
            border-bottom: 1px solid var(--border);
        }
        .agenda-item:last-child { border-bottom: none; }
        .agenda-time {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            color: var(--cyan);
            min-width: 50px;
        }
        .agenda-title {
            font-size: 0.9rem;
        }
        .agenda-upcoming {
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid var(--border);
        }
        .upcoming-header {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            color: var(--muted);
            margin-bottom: 10px;
            letter-spacing: 1px;
        }
        .upcoming-item {
            display: flex;
            gap: 15px;
            padding: 8px 0;
            font-size: 0.85rem;
        }
        .upcoming-date {
            font-family: 'JetBrains Mono', monospace;
            color: var(--orange);
            min-width: 60px;
        }
        .upcoming-title {
            color: var(--muted);
        }
        .email-list {
            margin-top: 15px;
        }
        .email-item {
            display: grid;
            grid-template-columns: 100px 1fr 50px;
            gap: 10px;
            padding: 10px 0;
            border-bottom: 1px solid var(--border);
            font-size: 0.85rem;
        }
        .email-item:last-child { border-bottom: none; }
        .email-item.unread .email-sender,
        .email-item.unread .email-subject {
            font-weight: 600;
        }
        .email-sender {
            font-family: 'JetBrains Mono', monospace;
            color: var(--cyan);
            font-size: 0.8rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .email-subject {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .email-time {
            font-family: 'JetBrains Mono', monospace;
            color: var(--muted);
            font-size: 0.75rem;
            text-align: right;
        }
        
        /* Projects Grid */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            border-bottom: 1px solid var(--border);
        }
        .project-card {
            padding: 25px;
            border-right: 1px solid var(--border);
            text-align: center;
            transition: all 0.2s;
            cursor: pointer;
        }
        .project-card:last-child { border-right: none; }
        .project-card:hover { background: var(--cyan-dim); }
        .project-icon { font-size: 2rem; margin-bottom: 10px; }
        .project-name {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            letter-spacing: 1px;
            margin-bottom: 5px;
        }
        .project-tasks {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--orange);
        }
        .project-label {
            font-size: 0.7rem;
            color: var(--muted);
        }
        
        /* Quick Links */
        .quick-section {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            border-bottom: 1px solid var(--border);
        }
        .quick-link {
            padding: 25px;
            text-align: center;
            border-right: 1px solid var(--border);
            text-decoration: none;
            color: var(--muted);
            transition: all 0.2s;
        }
        .quick-link:last-child { border-right: none; }
        .quick-link:hover {
            background: var(--cyan-dim);
            color: var(--cyan);
        }
        .quick-icon { font-size: 1.5rem; margin-bottom: 8px; }
        .quick-text {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            letter-spacing: 1px;
        }
        
        /* Team Panel */
        .team-panel {
            border-top: 1px solid var(--border);
            padding: 30px 40px;
            background: rgba(0,0,0,0.3);
        }
        .team-panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .team-panel-title {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            color: var(--cyan);
            letter-spacing: 2px;
        }
        .team-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }
        .team-member {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            transition: all 0.2s;
        }
        .team-member:hover {
            border-color: var(--cyan-border);
            background: var(--cyan-dim);
        }
        .team-member.working {
            border-color: var(--green);
            box-shadow: 0 0 15px rgba(0,255,136,0.2);
        }
        .team-member.working .member-status {
            color: var(--green);
        }
        .member-emoji {
            font-size: 2rem;
            margin-bottom: 8px;
        }
        .member-name {
            font-family: 'JetBrains Mono', monospace;
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 4px;
        }
        .member-role {
            font-size: 0.75rem;
            color: var(--muted);
            margin-bottom: 8px;
        }
        .member-model {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            color: var(--cyan);
            background: var(--cyan-dim);
            padding: 2px 8px;
            border-radius: 10px;
            display: inline-block;
            margin-bottom: 8px;
        }
        .member-status {
            font-size: 0.7rem;
            color: var(--muted);
        }
        .member-task {
            font-size: 0.7rem;
            color: var(--text);
            margin-top: 5px;
            font-style: italic;
        }
        .activity-log {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 15px;
            max-height: 200px;
            overflow-y: auto;
        }
        .activity-log-title {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            color: var(--muted);
            margin-bottom: 10px;
            letter-spacing: 1px;
        }
        .activity-item {
            display: flex;
            gap: 10px;
            padding: 8px 0;
            border-bottom: 1px solid var(--border);
            font-size: 0.8rem;
        }
        .activity-item:last-child {
            border-bottom: none;
        }
        .activity-time {
            font-family: 'JetBrains Mono', monospace;
            color: var(--muted);
            min-width: 50px;
        }
        .activity-agent {
            min-width: 25px;
        }
        .activity-text {
            color: var(--text);
        }
        @media (max-width: 900px) {
            .team-grid { grid-template-columns: repeat(2, 1fr); }
        }
        @media (max-width: 600px) {
            .team-grid { grid-template-columns: 1fr; }
            .team-panel { padding: 20px; }
        }
        
        /* Agent Status */
        .agent-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 40px;
            border-bottom: 1px solid var(--border);
            background: rgba(77, 87, 160, 0.05);
        }
        .agent-status {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .status-dot {
            width: 8px;
            height: 8px;
            background: var(--green);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .status-text {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            color: var(--green);
        }
        .agent-info {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            color: var(--muted);
        }
        
        /* Footer */
        .footer {
            padding: 20px 40px;
            text-align: center;
            color: var(--muted);
            font-size: 0.75rem;
        }
        .footer a { color: var(--cyan); text-decoration: none; }
        
        /* Mobile */
        @media (max-width: 1024px) {
            .hero { flex-direction: column; text-align: center; gap: 30px; }
            .nav-time { display: none; }
            .hero .nuria-widget { margin: 20px auto 0; }
            .stats-row { grid-template-columns: repeat(3, 1fr); }
            .stat-box { border-bottom: 1px solid var(--border); }
            .agenda-section { grid-template-columns: 1fr; }
            .agenda-col { border-right: none; border-bottom: 1px solid var(--border); }
            .main-grid { grid-template-columns: 1fr; }
            .main-section { border-right: none; border-bottom: 1px solid var(--border); }
            .projects-grid { grid-template-columns: repeat(2, 1fr); }
            .project-card { border-bottom: 1px solid var(--border); }
            .quick-section { grid-template-columns: repeat(3, 1fr); }
            .quick-link { border-bottom: 1px solid var(--border); }
            .crm-stats { grid-template-columns: repeat(2, 1fr); }
        }
        @media (max-width: 600px) {
            .nav { padding: 15px 20px; }
            .nav-links { gap: 15px; }
            .hero { padding: 30px 20px; }
            .hero-title { font-size: 2rem; letter-spacing: 4px; }
            .stats-row { grid-template-columns: repeat(2, 1fr); }
            .agenda-section { grid-template-columns: 1fr; }
            .email-item { grid-template-columns: 80px 1fr 45px; }
            .team-grid { grid-template-columns: 1fr; }
            .projects-grid { grid-template-columns: 1fr; }
            .quick-section { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>
    <nav class="nav">
        <div class="nav-brand">HARTO // COMMAND CENTER</div>
        <div class="nav-links">
            <a href="index.html" class="active">Dashboard</a>
            <a href="crm.html">CRM</a>
            <a href="tasks.html">Tasks</a>
            <a href="analytics.html">Analytics</a>
        </div>
        <div class="nav-time">
            <span class="nav-day" id="heroDay">-</span>
            <span class="nav-date" id="heroDate">-</span>
            <span class="nav-clock" id="heroClock">-</span>
        </div>
    </nav>
    
    <div class="agent-bar">
        <div class="agent-status">
            <div class="status-dot"></div>
            <div class="status-text">NURIA üüß ONLINE</div>
        </div>
        <div class="agent-info">Data updated: <span id="dataUpdated">-</span> ‚Ä¢ Last sync: <span id="lastSync">-</span></div>
    </div>
    
    <section class="hero">
        <div class="hero-content">
            <h1 class="hero-title">HARTO</h1>
            <div class="hero-sub">ARTIST COMMAND CENTER</div>
            <p class="hero-quote" id="heroQuote">"La creatividad es la inteligencia divirti√©ndose." ‚Äî Einstein</p>
        </div>
        
        <!-- NURIA Avatar - Far Right -->
        <div class="nuria-widget">
            <div class="nuria-name">NURIA</div>
            <div class="nuria-face">
                <div class="nuria-eyes">
                    <div class="nuria-eye" id="nuriaEyeL"></div>
                    <div class="nuria-eye" id="nuriaEyeR"></div>
                </div>
                <div class="nuria-blush nuria-blush-l"></div>
                <div class="nuria-blush nuria-blush-r"></div>
                <div class="nuria-mouth"></div>
            </div>
        </div>
    </section>
    
    <section class="stats-row">
        <div class="stat-box highlight">
            <div class="stat-value" id="statPendingTasks">18</div>
            <div class="stat-label">Pending Tasks</div>
        </div>
        <div class="stat-box">
            <div class="stat-value" id="statTodoTasks">9</div>
            <div class="stat-label">To Do</div>
        </div>
        <div class="stat-box">
            <div class="stat-value" id="statHours">51h</div>
            <div class="stat-label">Est. Hours</div>
        </div>
        <div class="stat-box">
            <div class="stat-value">66.4K</div>
            <div class="stat-label">CRM Contacts</div>
        </div>
        <div class="stat-box">
            <div class="stat-value">9.2K</div>
            <div class="stat-label">High Value</div>
        </div>
        <div class="stat-box success">
            <div class="stat-value" id="statContacted">0</div>
            <div class="stat-label">Contacted</div>
        </div>
    </section>
    
    <!-- Today's Agenda -->
    <section class="agenda-section">
        <div class="agenda-col">
            <div class="section-header">
                <div class="section-title">üìÖ TODAY'S SCHEDULE</div>
                <div class="section-date" id="todayDate">-</div>
            </div>
            <div class="agenda-list" id="calendarEvents">
                <div class="agenda-item">
                    <div class="agenda-time">07:30</div>
                    <div class="agenda-content">
                        <div class="agenda-title">Deporte</div>
                    </div>
                </div>
                <div class="agenda-item">
                    <div class="agenda-time">10:30</div>
                    <div class="agenda-content">
                        <div class="agenda-title">Reuni√≥n restructuraci√≥n</div>
                    </div>
                </div>
                <div class="agenda-item">
                    <div class="agenda-time">11:30</div>
                    <div class="agenda-content">
                        <div class="agenda-title">Varios / Mint</div>
                    </div>
                </div>
                <div class="agenda-item">
                    <div class="agenda-time">13:00</div>
                    <div class="agenda-content">
                        <div class="agenda-title">Dinia en el piso</div>
                    </div>
                </div>
            </div>
            <div class="agenda-upcoming">
                <div class="upcoming-header">PR√ìXIMOS D√çAS</div>
                <div class="upcoming-item">
                    <span class="upcoming-date">Mar 28</span>
                    <span class="upcoming-title">Marina Abramovic (19:00)</span>
                </div>
                <div class="upcoming-item">
                    <span class="upcoming-date">Vie 31</span>
                    <span class="upcoming-title">Zoo avec les enfants (10:00)</span>
                </div>
            </div>
        </div>
        <div class="agenda-col">
            <div class="section-header">
                <div class="section-title">üìß RECENT EMAILS</div>
                <div class="email-count"><span id="unreadCount">8</span> unread</div>
            </div>
            <div class="email-list" id="emailList">
                <div class="email-item unread">
                    <div class="email-sender">Juliette</div>
                    <div class="email-subject">Lys Fernandez se ir√° a las 14:45 los jueves</div>
                    <div class="email-time">21:31</div>
                </div>
                <div class="email-item unread">
                    <div class="email-sender">Juliette</div>
                    <div class="email-subject">Re: Renovaci√≥n del contrato de arrendamiento</div>
                    <div class="email-time">21:21</div>
                </div>
                <div class="email-item unread">
                    <div class="email-sender">Juliette</div>
                    <div class="email-subject">Re: Proposta de reuni√≥</div>
                    <div class="email-time">21:18</div>
                </div>
                <div class="email-item">
                    <div class="email-sender">IE Londres</div>
                    <div class="email-subject">Proposta de reuni√≥</div>
                    <div class="email-time">19:34</div>
                </div>
                <div class="email-item unread">
                    <div class="email-sender">SELTZ</div>
                    <div class="email-subject">IVA CULTURAL, ¬°YA!</div>
                    <div class="email-time">18:35</div>
                </div>
                <div class="email-item unread">
                    <div class="email-sender">Bitcoin Conference</div>
                    <div class="email-subject">üì¢ Speakers Dropped + Price Increase Friday</div>
                    <div class="email-time">17:22</div>
                </div>
            </div>
        </div>
    </section>
    
    <section class="projects-grid">
        <div class="project-card" onclick="window.location='tasks.html'">
            <div class="project-icon">üé®</div>
            <div class="project-name">SUPERRARE</div>
            <div class="project-tasks">9</div>
            <div class="project-label">tasks</div>
        </div>
        <div class="project-card" onclick="window.location='tasks.html'">
            <div class="project-icon">üñºÔ∏è</div>
            <div class="project-name">ICONIC</div>
            <div class="project-tasks">8</div>
            <div class="project-label">tasks</div>
        </div>
        <div class="project-card" onclick="window.location='tasks.html'">
            <div class="project-icon">üüß</div>
            <div class="project-name">POL</div>
            <div class="project-tasks">1</div>
            <div class="project-label">tasks</div>
        </div>
        <div class="project-card" onclick="window.location='tasks.html'">
            <div class="project-icon">üí∞</div>
            <div class="project-name">FACTURAS</div>
            <div class="project-tasks">1</div>
            <div class="project-label">tasks</div>
        </div>
    </section>
    
    <section class="main-grid">
        <div class="main-section">
            <div class="section-header">
                <div class="section-title">// PRIORITY TASKS</div>
                <a href="tasks.html" class="section-link">VIEW ALL ‚Üí</a>
            </div>
            <div class="task-list">
                <!-- TASKS ORDERED BY URGENCY: High priority first, then by deadline -->
                <div class="task-item urgent">
                    <div class="task-priority high"></div>
                    <div class="task-content">
                        <div class="task-title">Crear obras digitales - Superrare</div>
                        <div class="task-meta">NFT = 0.5 ETH x 30 ‚Ä¢ Due: 2 days</div>
                    </div>
                    <div class="task-owner">Arturo</div>
                </div>
                <div class="task-item warning">
                    <div class="task-priority high"></div>
                    <div class="task-content">
                        <div class="task-title">Crear obras fisicas</div>
                        <div class="task-meta">Big: 6 ETH, Small: 2.5 ETH x 3 ‚Ä¢ Due: 5 days</div>
                    </div>
                    <div class="task-owner">Arturo</div>
                </div>
                <div class="task-item urgent">
                    <div class="task-priority medium"></div>
                    <div class="task-content">
                        <div class="task-title">Cobrar segunda factura ICONIC</div>
                        <div class="task-meta">Preguntar direcciones + packaging ‚Ä¢ Due: 1 day</div>
                    </div>
                    <div class="task-owner">Sergio</div>
                </div>
                <div class="task-item">
                    <div class="task-priority medium"></div>
                    <div class="task-content">
                        <div class="task-title">Finalizar codigo</div>
                        <div class="task-meta">GitHub error-states ‚Ä¢ Due: 7 days</div>
                    </div>
                    <div class="task-owner">Clara</div>
                </div>
                <div class="task-item">
                    <div class="task-priority low"></div>
                    <div class="task-content">
                        <div class="task-title">Facturas y gastos</div>
                        <div class="task-meta">10 hours estimated ‚Ä¢ Due: 14 days</div>
                    </div>
                    <div class="task-owner">Juliette</div>
                </div>
            </div>
        </div>
        
        <div class="main-section">
            <div class="section-header">
                <div class="section-title">// TEAM</div>
                <a href="tasks.html" class="section-link">MANAGE ‚Üí</a>
            </div>
            <div class="team-grid">
                <div class="team-card">
                    <div class="team-avatar">AF</div>
                    <div class="team-info">
                        <div class="team-name">Arturo</div>
                        <div class="team-role">Director</div>
                    </div>
                    <div class="team-tasks">7</div>
                </div>
                <div class="team-card">
                    <div class="team-avatar">JU</div>
                    <div class="team-info">
                        <div class="team-name">Juliette</div>
                        <div class="team-role">Finance</div>
                    </div>
                    <div class="team-tasks">3</div>
                </div>
                <div class="team-card">
                    <div class="team-avatar">SE</div>
                    <div class="team-info">
                        <div class="team-name">Sergio</div>
                        <div class="team-role">Finance</div>
                    </div>
                    <div class="team-tasks">5</div>
                </div>
                <div class="team-card">
                    <div class="team-avatar">CL</div>
                    <div class="team-info">
                        <div class="team-name">Clara</div>
                        <div class="team-role">Developer</div>
                    </div>
                    <div class="team-tasks">3</div>
                </div>
            </div>
            
            <div class="crm-summary" style="margin-top: 25px;">
                <div class="crm-header">
                    <div class="crm-title">üìä CRM NETWORK</div>
                </div>
                <div class="crm-stats">
                    <div class="crm-stat">
                        <div class="crm-stat-value">66.4K</div>
                        <div class="crm-stat-label">Contacts</div>
                    </div>
                    <div class="crm-stat">
                        <div class="crm-stat-value">9.2K</div>
                        <div class="crm-stat-label">High Value</div>
                    </div>
                    <div class="crm-stat">
                        <div class="crm-stat-value">4K</div>
                        <div class="crm-stat-label">Ordinals</div>
                    </div>
                    <div class="crm-stat">
                        <div class="crm-stat-value">6.6K</div>
                        <div class="crm-stat-label">Verified</div>
                    </div>
                </div>
                <div class="crm-bar">
                    <div class="crm-bar-segment" style="width: 6%; background: var(--orange);"></div>
                    <div class="crm-bar-segment" style="width: 10%; background: var(--purple);"></div>
                    <div class="crm-bar-segment" style="width: 3%; background: var(--green);"></div>
                    <div class="crm-bar-segment" style="width: 4%; background: var(--yellow);"></div>
                    <div class="crm-bar-segment" style="width: 4%; background: var(--cyan);"></div>
                    <div class="crm-bar-segment" style="width: 73%; background: var(--muted);"></div>
                </div>
                <a href="crm.html" class="crm-btn">OPEN CRM ‚Üí</a>
            </div>
        </div>
    </section>
    
    <section class="quick-section">
        <a href="crm.html" class="quick-link">
            <div class="quick-icon">üìä</div>
            <div class="quick-text">CRM</div>
        </a>
        <a href="tasks.html" class="quick-link">
            <div class="quick-icon">‚úÖ</div>
            <div class="quick-text">TASKS</div>
        </a>
        <a href="analytics.html" class="quick-link">
            <div class="quick-icon">üìà</div>
            <div class="quick-text">ANALYTICS</div>
        </a>
        <a href="https://docs.google.com/spreadsheets/d/1LIdaTvRvKEZOMJbqXcBIrA5Xq6bEnzfiiFkFp_A6pTY" target="_blank" class="quick-link">
            <div class="quick-icon">üìã</div>
            <div class="quick-text">SHEETS</div>
        </a>
        <a href="https://hartostrategy.fun" target="_blank" class="quick-link">
            <div class="quick-icon">üéØ</div>
            <div class="quick-text">STRATEGY</div>
        </a>
    </section>
    
    <!-- Team Activity Panel -->
    <section class="team-panel">
        <div class="team-panel-header">
            <div class="team-panel-title">üé≠ TEAM NURIA</div>
            <div style="font-size: 0.75rem; color: var(--muted);">Real-time status</div>
        </div>
        
        <div class="team-grid" id="teamGrid">
            <div class="team-member working" id="member-nuria">
                <div class="member-emoji">üüß</div>
                <div class="member-name">Nuria</div>
                <div class="member-role">Jefa</div>
                <div class="member-model">Claude Opus</div>
                <div class="member-status">‚óè WORKING</div>
                <div class="member-task" id="task-nuria">Coordinando equipo</div>
            </div>
            <div class="team-member" id="member-amy">
                <div class="member-emoji">üìã</div>
                <div class="member-name">Amy</div>
                <div class="member-role">Administraci√≥n</div>
                <div class="member-model">Kimi 2.5</div>
                <div class="member-status">‚óã IDLE</div>
                <div class="member-task" id="task-amy"></div>
            </div>
            <div class="team-member" id="member-jack">
                <div class="member-emoji">üîß</div>
                <div class="member-name">Jack</div>
                <div class="member-role">T√©cnico</div>
                <div class="member-model">Claude Sonnet</div>
                <div class="member-status">‚óã IDLE</div>
                <div class="member-task" id="task-jack"></div>
            </div>
            <div class="team-member" id="member-pepe">
                <div class="member-emoji">üé®</div>
                <div class="member-name">Pepe</div>
                <div class="member-role">Ideas Locas</div>
                <div class="member-model">Kimi 2.5</div>
                <div class="member-status">‚óã IDLE</div>
                <div class="member-task" id="task-pepe"></div>
            </div>
        </div>
        
        <div class="activity-log" id="activityLog">
            <div class="activity-log-title">üìú ACTIVITY LOG</div>
            <div class="activity-item">
                <span class="activity-time">12:00</span>
                <span class="activity-agent">üîß</span>
                <span class="activity-text">Jack complet√≥ fix del dashboard</span>
            </div>
            <div class="activity-item">
                <span class="activity-time">11:40</span>
                <span class="activity-agent">üìã</span>
                <span class="activity-text">Amy analiz√≥ tasks urgentes</span>
            </div>
            <div class="activity-item">
                <span class="activity-time">11:35</span>
                <span class="activity-agent">üüß</span>
                <span class="activity-text">Nuria configur√≥ equipo de agentes</span>
            </div>
        </div>
    </section>
    
    <footer class="footer">
        <a href="https://hartostudio.org">hartostudio.org</a> ‚Äî Powered by <a href="#">Nuria üüß</a>
    </footer>
    
    <script>
        // Quotes
        const quotes = [
            { text: "La creatividad es la inteligencia divirti√©ndose.", author: "Einstein" },
            { text: "Every artist was first an amateur.", author: "Emerson" },
            { text: "Art is not what you see, but what you make others see.", author: "Degas" },
            { text: "The chief enemy of creativity is good sense.", author: "Picasso" },
            { text: "Have no fear of perfection - you'll never reach it.", author: "Dal√≠" },
            { text: "Price is what you pay. Value is what you get.", author: "Buffett" },
            { text: "Stay hungry, stay foolish.", author: "Jobs" },
            { text: "Art washes away from the soul the dust of everyday life.", author: "Picasso" },
            { text: "The purpose of art is washing the dust of daily life off our souls.", author: "Picasso" }
        ];
        
        // Time & Date
        function updateTime() {
            const now = new Date();
            const days = ['SUNDAY', 'MONDAY', 'TUESDAY', 'WEDNESDAY', 'THURSDAY', 'FRIDAY', 'SATURDAY'];
            const months = ['JAN', 'FEB', 'MAR', 'APR', 'MAY', 'JUN', 'JUL', 'AUG', 'SEP', 'OCT', 'NOV', 'DEC'];
            
            document.getElementById('heroDay').textContent = days[now.getDay()];
            document.getElementById('heroDate').textContent = `${now.getDate()} ${months[now.getMonth()]} ${now.getFullYear()}`;
            document.getElementById('heroClock').textContent = now.toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit' });
            document.getElementById('lastSync').textContent = now.toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit' });
        }
        
        // Random quote
        function setQuote() {
            const quote = quotes[Math.floor(Math.random() * quotes.length)];
            document.getElementById('heroQuote').textContent = `"${quote.text}" ‚Äî ${quote.author}`;
        }
        
        // Pipeline stats from localStorage
        function updatePipelineStats() {
            const statuses = JSON.parse(localStorage.getItem('crm_statuses') || '{}');
            const contacted = Object.values(statuses).filter(s => s !== 'prospect').length;
            document.getElementById('statContacted').textContent = contacted;
        }
        
        updateTime();
        setQuote();
        updatePipelineStats();
        setInterval(updateTime, 1000);
        
        // Update today's schedule date - FIXED to always show current date
        function updateScheduleDate() {
            const today = new Date();
            const dateStr = today.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' });
            document.getElementById('todayDate').textContent = dateStr;
        }
        updateScheduleDate();
        
        // NURIA animation system
        const nuriaEyeL = document.getElementById('nuriaEyeL');
        const nuriaEyeR = document.getElementById('nuriaEyeR');
        const nuriaWidget = document.querySelector('.nuria-widget');
        let nuriaIsWorking = false;
        let blinkTimeout = null;
        
        function nuriaBlink() {
            if (!nuriaIsWorking) return;
            nuriaEyeL.classList.add('blink');
            nuriaEyeR.classList.add('blink');
            setTimeout(() => {
                nuriaEyeL.classList.remove('blink');
                nuriaEyeR.classList.remove('blink');
            }, 150);
        }
        
        function scheduleNuriaBlink() {
            if (!nuriaIsWorking) return;
            const delay = 2000 + Math.random() * 3000;
            blinkTimeout = setTimeout(() => {
                nuriaBlink();
                scheduleNuriaBlink();
            }, delay);
        }
        
        function setNuriaWorking(working) {
            nuriaIsWorking = working;
            if (working) {
                // Wake up Nuria
                nuriaWidget.classList.remove('idle');
                nuriaWidget.classList.add('working');
                nuriaEyeL.classList.remove('sleeping');
                nuriaEyeR.classList.remove('sleeping');
                scheduleNuriaBlink();
            } else {
                // Nuria goes to sleep
                nuriaWidget.classList.remove('working');
                nuriaWidget.classList.add('idle');
                nuriaEyeL.classList.add('sleeping');
                nuriaEyeR.classList.add('sleeping');
                if (blinkTimeout) clearTimeout(blinkTimeout);
            }
        }
        
        // Check Nuria's status via Upstash Redis (secure, authenticated)
        const UPSTASH_URL = 'https://pumped-shad-30856.upstash.io';
        const UPSTASH_TOKEN = 'AXiIAAIncDI1Yzk1YTUyMjZiMjE0MWIwYmYyZDk2ZDIxYWU3MDFjOXAyMzA4NTY';
        
        async function checkNuriaStatus() {
            try {
                const res = await fetch(`${UPSTASH_URL}/get/nuria-status`, {
                    headers: { 'Authorization': `Bearer ${UPSTASH_TOKEN}` }
                });
                if (res.ok) {
                    const result = await res.json();
                    const data = JSON.parse(result.result || '{}');
                    const lastActive = new Date(data.lastActive).getTime();
                    const now = Date.now();
                    const idleMinutes = (now - lastActive) / 60000;
                    // Working if active within last 2 minutes
                    setNuriaWorking(idleMinutes < 2);
                } else {
                    setNuriaWorking(false);
                }
            } catch (e) {
                setNuriaWorking(false);
            }
        }
        
        // Initial check and poll every 30 seconds
        checkNuriaStatus();
        setInterval(checkNuriaStatus, 30000);
        
        // Helper: Parse YYYY-MM-DD without timezone shift
        function parseLocalDate(dateStr) {
            if (!dateStr) return null;
            const [year, month, day] = dateStr.split('-').map(Number);
            return new Date(year, month - 1, day);
        }
        
        // Helper: Get today as YYYY-MM-DD in local timezone
        function getTodayLocalStr() {
            const now = new Date();
            return `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;
        }
        
        // Helper: Calculate days until deadline
        function daysUntil(dateStr) {
            if (!dateStr) return Infinity;
            const target = parseLocalDate(dateStr);
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            return Math.ceil((target - today) / (1000 * 60 * 60 * 24));
        }
        
        // Load dashboard data - AUTO-REFRESH IMPLEMENTED
        async function loadDashboardData() {
            console.log('üîÑ Loading dashboard data...');
            try {
                // Load calendar
                const calRes = await fetch('api/calendar.json?t=' + Date.now());
                if (calRes.ok) {
                    const calData = await calRes.json();
                    renderCalendar(calData);
                }
                
                // Load emails
                const emailRes = await fetch('api/emails.json?t=' + Date.now());
                if (emailRes.ok) {
                    const emailData = await emailRes.json();
                    renderEmails(emailData);
                }
                
                // Load tasks (NEW)
                const tasksRes = await fetch('api/tasks.json?t=' + Date.now());
                if (tasksRes.ok) {
                    const tasksData = await tasksRes.json();
                    renderTasks(tasksData);
                }
                
                // Load team status
                const teamRes = await fetch('api/team-status.json?t=' + Date.now());
                if (teamRes.ok) {
                    const teamData = await teamRes.json();
                    renderTeamStatus(teamData);
                }
                
                // Update last data update timestamp
                const now = new Date();
                const timeStr = now.toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit' });
                document.getElementById('dataUpdated').textContent = timeStr;
                console.log('‚úÖ Dashboard data loaded');
            } catch (err) {
                console.log('Using static data:', err);
            }
        }
        
        function renderCalendar(data) {
            // FIXED: Always update to current date (not from JSON data)
            updateScheduleDate();
            
            // Render today's events
            const eventsHtml = data.today.map(e => `
                <div class="agenda-item">
                    <div class="agenda-time">${e.time}</div>
                    <div class="agenda-content">
                        <div class="agenda-title">${e.title}</div>
                    </div>
                </div>
            `).join('');
            
            // Render upcoming
            const upcomingHtml = data.upcoming.map(e => {
                // Parse date without timezone shift (YYYY-MM-DD)
                const [year, month, day] = e.date.split('-').map(Number);
                const date = new Date(year, month - 1, day); // month is 0-indexed
                const dateStr = date.toLocaleDateString('es-ES', { weekday: 'short', day: 'numeric' });
                return `
                    <div class="upcoming-item">
                        <span class="upcoming-date">${dateStr}</span>
                        <span class="upcoming-title">${e.title} (${e.time})</span>
                    </div>
                `;
            }).join('');
            
            document.getElementById('calendarEvents').innerHTML = eventsHtml;
            document.querySelector('.agenda-upcoming').innerHTML = `
                <div class="upcoming-header">PR√ìXIMOS D√çAS</div>
                ${upcomingHtml}
            `;
        }
        
        function renderEmails(data) {
            document.getElementById('unreadCount').textContent = data.unreadCount;
            
            const emailsHtml = data.emails.map(e => `
                <div class="email-item ${e.unread ? 'unread' : ''}">
                    <div class="email-sender">${e.sender}</div>
                    <div class="email-subject">${e.subject}</div>
                    <div class="email-time">${e.time}</div>
                </div>
            `).join('');
            
            document.getElementById('emailList').innerHTML = emailsHtml;
        }
        
        // Render tasks sorted by urgency (deadline closest first, with visual highlighting)
        function renderTasks(data) {
            // Combine MITs and tasks
            const allTasks = [
                ...(data.mits || []).map(t => ({ ...t, isMit: true })),
                ...(data.tasks || [])
            ].filter(t => !t.done);
            
            // Sort by urgency: priority first, then by deadline (closest first)
            const priorityOrder = { urgent: 0, high: 1, normal: 2, low: 3 };
            allTasks.sort((a, b) => {
                // First by priority
                const priorityA = priorityOrder[a.priority] ?? 2;
                const priorityB = priorityOrder[b.priority] ?? 2;
                if (priorityA !== priorityB) return priorityA - priorityB;
                
                // Then by deadline (closest first)
                return daysUntil(a.date) - daysUntil(b.date);
            });
            
            // Update stats
            document.getElementById('statPendingTasks').textContent = allTasks.length;
            const todoCount = allTasks.filter(t => priorityOrder[t.priority] >= 2).length;
            document.getElementById('statTodoTasks').textContent = todoCount;
            
            // Render priority tasks (top 5)
            const taskList = document.querySelector('.task-list');
            const topTasks = allTasks.slice(0, 5);
            
            const tasksHtml = topTasks.map(task => {
                const days = daysUntil(task.date);
                const isUrgentDeadline = days <= 3 && days >= 0;
                const priorityClass = task.priority === 'urgent' || task.priority === 'high' ? 'high' 
                    : task.priority === 'low' ? 'low' : 'medium';
                
                // Highlight tasks with deadline < 3 days
                const urgentStyle = isUrgentDeadline ? 'border-color: var(--red); background: rgba(255,68,68,0.1);' : '';
                const deadlineBadge = isUrgentDeadline 
                    ? `<span style="color: var(--red); font-size: 0.7rem; margin-left: 8px; font-weight: 600;">‚ö†Ô∏è ${days === 0 ? 'TODAY' : days === 1 ? 'TOMORROW' : days + ' DAYS'}</span>` 
                    : '';
                
                return `
                    <div class="task-item" style="${urgentStyle}">
                        <div class="task-priority ${priorityClass}"></div>
                        <div class="task-content">
                            <div class="task-title">${task.title}${deadlineBadge}</div>
                            <div class="task-meta">${task.meta || ''}</div>
                        </div>
                        <div class="task-owner">${task.isMit ? 'MIT' : 'Task'}</div>
                    </div>
                `;
            }).join('');
            
            taskList.innerHTML = tasksHtml || '<div style="color: var(--muted); padding: 15px;">No pending tasks üéâ</div>';
        }
        
        // Load data on page load
        loadDashboardData();
        
        // AUTO-REFRESH: Reload calendar data every 5 minutes
        setInterval(loadDashboardData, 5 * 60 * 1000); // 5 minutes = 300000ms
        // Render team status
        function renderTeamStatus(data) {
            const agentEmojis = { nuria: 'üüß', amy: 'üìã', jack: 'üîß', pepe: 'üé®' };
            
            // Update each team member
            for (const [id, agent] of Object.entries(data.agents)) {
                const card = document.getElementById(`member-${id}`);
                if (!card) continue;
                
                const isWorking = agent.status === 'working';
                card.classList.toggle('working', isWorking);
                
                const statusEl = card.querySelector('.member-status');
                if (statusEl) {
                    statusEl.textContent = isWorking ? '‚óè WORKING' : '‚óã IDLE';
                    statusEl.style.color = isWorking ? 'var(--green)' : 'var(--muted)';
                }
                
                const taskEl = document.getElementById(`task-${id}`);
                if (taskEl) {
                    taskEl.textContent = agent.task || '';
                }
            }
            
            // Update activity log
            const logContainer = document.getElementById('activityLog');
            if (logContainer && data.activityLog) {
                const logHtml = data.activityLog.map(item => `
                    <div class="activity-item">
                        <span class="activity-time">${item.time}</span>
                        <span class="activity-agent">${agentEmojis[item.agent] || 'ü§ñ'}</span>
                        <span class="activity-text">${item.action}</span>
                    </div>
                `).join('');
                
                logContainer.innerHTML = `
                    <div class="activity-log-title">üìú ACTIVITY LOG</div>
                    ${logHtml}
                `;
            }
        }
    </script>
</body>
</html>
